<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta content="" name="description">
    <meta content="" name="author">
	<!--<link rel="icon" href="../../favicon.ico">-->
    <title id='mainTtitle'>ProtoBlock | Legitimize the game you love</title>
	
	<!-- CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet" type='text/css'>
    <link href="../css/bootstrap-material-datetimepicker.css" rel="stylesheet">
    <link href="../css/animate.css" rel="stylesheet">
    <link href="../css/retina.css" media="only screen and (-webkit-min-device-pixel-ratio: 2)" rel="stylesheet">
	<!-- Material Design fonts -->
    <link href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type="text/css">
	<!-- Font Awesome -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
	<!-- Bootstrap Material Design -->
    <link href="../css/bootstrap-material-design.css" rel="stylesheet" type="text/css">
    <link href="../css/ripples.min.css" rel="stylesheet" type="text/css">
    <link href="../css/style.css" rel="stylesheet" type="text/css">
	
	<!--js -->
    <script src="../js/jquery.min.js" type="text/javascript"></script>
    <script src='../js/tablesort.min.js' type="text/javascript"></script>
    <script src='../js/tablesort.number.js' type="text/javascript"></script>
    <script src='../js/tablesort.date.js' type="text/javascript"></script>
    <script src="../js/moment-with-locales.js" type="text/javascript"></script>
    <script src="../js/moment.js" type="text/javascript"></script>
    <script src="../js/bootstrap/bootstrap.min.js" type="text/javascript"></script>
    <script src="../js/bootstrap/holder.js" type="text/javascript"></script>
    <script src="../js/bootstrap/bootstrap-list-filter.js" type="text/javascript"></script>
    <script src="../js/material.min.js" type="text/javascript"></script>
    <script src="../js/ripples.js" type="text/javascript"></script>
    <script src="../js/showOnScroll.js" type="text/javascript"></script>
    <script src="../js/bootstrap-material-datetimepicker.js" type="text/javascript"></script>
    

</head>


<body>
    <!-- Menu -->
    <nav class="navbar navbar-default navbar-fixed-top animated fadeInDown" role="navigation" style="-webkit-animation-delay:1.6s;animation-delay:1.6s;">
        <div class="container">
            <a href='../index.html'> <img class="navbar-brand" id='homeIcon' src="../artwork/icon_withWords.png"></a>
            <div class="navbar-header">
                <button aria-controls="navbar" aria-expanded="false" class="navbar-toggle collapsed" data-target="#navbar" data-toggle="collapse" type="button"><span class="sr-only">Toggle
                navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button>
            </div>
            <div class="navbar-collapse collapse" id="navbar">
                <ul class="nav navbar-nav">
                    <li class="dropdown">
                        <a aria-expanded="false" aria-haspopup="true" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">Fantastybit <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="../templete/desc.html" id='desc'>Desctipion</a>
                            </li>
                            <li>
                                <a href="../templete/tutorials.html" id='tutorials'>Tutorials</a>
                            </li>
                            <li>
                                <a href="../templete/leaderboard.html" id='leaderboard'>Leaderboard</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="../templete/about.html" id='about'>About</a>
                    </li>
                    <li class="dropdown">
                        <a aria-expanded="false" aria-haspopup="true" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">News <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="#">Blog</a>
                            </li>
                            <li>
                                <a href="../templete/presspack.html" id='pressPack'>Press Pack</a>
                            </li>
                            <li>
                                <a href="../templete/recentnews.html" id='recentNews'>Recent News</a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a aria-expanded="false" aria-haspopup="true" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">Support <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="#">Fourm</a>
                            </li>
                            <li>
                                <a href="#">Blog</a>
                            </li>
                            <li>
                                <a href="../templete/contact.html" id='contact'>Contact</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
	<!-- End Menu -->
	
	
	
	
<div class='container'>
  <div class="jumbotron col-md-12">
    <h1>Leaderboard</h1>
    <p id='leaderboardPar'>The Leaderboard shows the 2015 results. feel free to drill the leaderboard to see how the end user got there.</p>
    <form role="form">
      <div class="form-group">
          <input id="searchinput" class="form-control" type="search" placeholder="Search Leaderboard..." />
      </div>
        <div id="toLeader" class="list-group"></div>
     </form>
  </div>
</div>


		
	<!-- footer -->
    <div class="row" id="footer">
        <div class="col-md-12 text-center slide">
            <div class="col-xs-4 hideme fiu">
                <a data-toggle="modal" href="#licenseModal">LICENSE</a>
            </div>
            <div class="col-xs-4 hideme fiu" style="-webkit-animation-delay:0.2s;animation-delay:0.2s;">
                <a data-toggle="modal" href="#faqModal">FAQ</a>
            </div>
            <div class="col-xs-4 hideme fiu" style="-webkit-animation-delay:0.4s;animation-delay:0.4s;">
                <a href="/templete/about.html" target="_blank">ABOUT</a>
            </div>
        </div>
        <div class="caz-logo slide">
            <div class="hideme fi" style="-webkit-animation-delay:.6s;animation-delay:.6s;">
                <img height="70px" src='/artwork/icon_withWords.png' style='margin-left: -200px' width="800px"><a href="artwork/icon_only.png"></a>
            </div>
        </div>
		<!-- Footer Ends -->
    </div>




<script>
    $('#toLeader').btsListFilter('#searchinput', {itemChild: 'span'});
    
    
    var week=''
    var postion=''
    var url='../simple.php?url=https://trading.football:4545/'
    var fnName = ''
    

function getCurrentWeek(){
    $.get( url+"week", function( data ) {
        console.log(data)
        var item = JSON.stringify(data.contents)
        var list = JSON.parse(item)
        return list.week
    })  
    

}
        
function callApi(link,query){
    $.get( link+query, function( data ) {
        console.log(data)
        var item = JSON.stringify(data.contents)
        var list = JSON.parse(item)
        return list;
    })    
}
    
    
    
function getLeaderBoard(){
    $('#toLeader').empty()
    $.ajax({
        url: "../simple.php?url=https://trading.football:4545//fantasy/leaders",
    }).done(function(data) {
        var item = JSON.stringify(data.contents)
        var list = JSON.parse(item)       
        for (var i in list) {
          $('#toLeader').append(            
                      "<div id='fnPlayerName' class='list-group-item card'><div class='row-picture'>"
                      +"<img class='circle' src='https://raw.githubusercontent.com/google/material-design-icons/master/action/ios/ic_account_circle.imageset/ic_account_circle_3x.png' alt='icon'>"
                      +"</div><div class='row-content'><h4 class='list-group-item-heading'><span id='theName'>"
                      +list[i].name+"</span></h4>"
                      +"<p id='thePoints' class='list-group-item-text'>"+list[i].score+"</p></div></div>"
            );
            }        
    });
    } 
    
    
$('#toLeader').on('click','#fnPlayerName',function() {
    var changeName = $('#theName',this).text()
    $('#leaderboardPar').html(
                              "<b>Fantasy Name:</b> "
                              + $('#theName',this).text()
                              + "<br /><b>Overall balance:</b> "
                              + $('#thePoints' , this).text()
                              
                              )
    
    
    
    
    $('#toLeader').empty()
    $('#toLeader').removeClass('list-group')
    $('#toLeader').addClass('col-md-12')
    $('#toLeader').append(
                      "<table class='table table-hover tablesorter' id='statsTable'><thead><tr>"
                       +    "<th>Week <i class='fa fa-fw fa-sort'></i></th>"
                        +    "<th>Players Name <i class='fa fa-fw fa-sort'></i></th>"
                           +    "<th>Team <i class='fa fa-fw fa-sort'></i></th>"
                            +    "<th>Postion <i class='fa fa-fw fa-sort'></i></th>"
                            +    "<th>Projection <i class='fa fa-fw fa-sort'></i></th>"
                            +    "<th>Result <i class='fa fa-fw fa-sort'></i></th>"
                            +    "<th>Award <i class='fa fa-fw fa-sort'></i></th>"
                            +"</tr></thead><tbody id='statsRow'></tbody></table>"
                          )
    
    $.ajax({
        url: "../simple.php?url=https://trading.football:4545/fantasy/players/"+changeName+"/awards",
    })
    .done(function(json) {    
        var item = JSON.stringify(json.contents.data)
        var  list = JSON.parse(item)
         for (var i in list) { 
           $('#statsRow').append(
            "<tr><td>"
            + list[i].WEEK
            + "</td><td>" + list[i].FIRSTNAME
            + " " + list[i].LASTNAME
            + "</td><td>" + list[i].TEAM
            + "</td><td>" + list[i].POS 
            + "</td><td>" + list[i].PROJECTION
            + "</td><td>" + list[i].RESULT
            + "</td><td>" + list[i].AWARD
            + "</td></tr>"
            )
            }    
        setUpSorting()
        });
});

function setUpSorting() {
   var table = document.getElementById('statsTable');
   var sort = new Tablesort(table);
   sort.refresh();
} 

$( document).ready(function(){
  var week = getCurrentWeek();
  getLeaderBoard();
})

</script> 



</body>
</html>
	
	